<div data-component="form" data-title="@(Logs analyzator)" data-component-path="common.form" data-if="value === 'applications-analyzator'" data-width="700px">
	<div class="padding">
		<div data-component="visible" data-component-path="applications.analyzator" data-if="!value || !value.length">
			<div class="padding center">
				<i class="fa fa-check-circle fa-4x green"></i>
				<div class="mt10">@(<b>Good job</b>, no issue present.)</div>
			</div>
		</div>
		<table class="table fs12 hidden" data-component="visible" data-component-path="applications.analyzator" data-if="value && value.length > 0">
			<tbody data-component="repeater" data-component-path="applications.analyzator">
				<script type="text/html">
					<tr>
						<td><a href="{{ url }}" target="_blank">{{ url }}</a></td>
						<td class="col-xs-2 red b"><i class="fa fa-bug mr5"></i>{{ type }}</td>
						<td class="col-xs-2 center"><a href="/logs/{{ id }}/" target="_blank"><i class="fa fa-search mr5"></i>logs</a></td>
					</tr>
				</script>
			</tbody>
		</table>
	</div>
	<div class="ui-form-buttons center">
		<button name="cancel" style="width:200px">@(Close)</button>
	</div>
</div>

<script>
	applications.analyzator = EMPTYARRAY;

	function applications_analyzator_refresh() {
		CACHE('analyzator', '1', '4 days');
		SETTER('loading', 'show');
		AJAX('GET /api/apps/analyzator/', function(response) {

			SETTER('loading', 'hide', 500);

			response.forEach(function(item) {
				var app = applications.grid.findItem('id', item.id);
				item.url = app ? app.url : 'undefined';
			});

			SET('applications.analyzator', response);
		});
	}

</script>